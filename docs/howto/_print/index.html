<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.139.4"><link rel=canonical type=text/html href=/docs/howto/><link rel=alternate type=application/rss+xml href=/docs/howto/index.xml><meta name=robots content="noindex, nofollow"><link rel=icon type=image/svg+xml href=/favicons/favicon.svg><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon.png><link rel=icon type=image/png href=/favicons/favicon-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/favicon-64x64.png sizes=64x64><link rel=icon type=image/png href=/favicons/favicon-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/favicon-128x128.png sizes=128x128><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>How-to | YMCA Website Services</title>
<meta name=description content="These guides will help you quickly accomplish common tasks."><meta property="og:url" content="/docs/howto/"><meta property="og:site_name" content="YMCA Website Services"><meta property="og:title" content="How-to"><meta property="og:description" content="These guides will help you quickly accomplish common tasks."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta itemprop=name content="How-to"><meta itemprop=description content="These guides will help you quickly accomplish common tasks."><meta itemprop=dateModified content="2023-07-11T10:10:47-05:00"><meta itemprop=wordCount content="44"><meta name=twitter:card content="summary"><meta name=twitter:title content="How-to"><meta name=twitter:description content="These guides will help you quickly accomplish common tasks."><link rel=preload href=/scss/main.min.ba7dada1c07c0f45d2bd8f9ebeeb8a55b37178c66890f39fb1822de52264d26d.css as=style integrity="sha256-un2tocB8D0XSvY+evuuKVbNxeMZokPOfsYIt5SJk0m0=" crossorigin=anonymous><link href=/scss/main.min.ba7dada1c07c0f45d2bd8f9ebeeb8a55b37178c66890f39fb1822de52264d26d.css rel=stylesheet integrity="sha256-un2tocB8D0XSvY+evuuKVbNxeMZokPOfsYIt5SJk0m0=" crossorigin=anonymous><script src=https://code.jquery.com/jquery-3.6.3.min.js integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ==" crossorigin=anonymous></script><link rel=preload href=https://cdn.jsdelivr.net/npm/@docsearch/css@3.5.2 as=style integrity="sha512-TW5eKlwwg7OfQUVBqxjp94/uqtjJJbhkRE3++XGEQjAL1n3y//QVqS3acPkwqkzInaFRtj+w05uyxDbfDXiI1A==" crossorigin=anonymous onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3.5.2 integrity="sha512-TW5eKlwwg7OfQUVBqxjp94/uqtjJJbhkRE3++XGEQjAL1n3y//QVqS3acPkwqkzInaFRtj+w05uyxDbfDXiI1A==" crossorigin=anonymous></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-3GMSKCY94X"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-3GMSKCY94X")}</script></head><body class=td-section><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/><span class="navbar-brand__logo navbar-logo"><svg id="Layer_1" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 288 221" enable-background="new 0 0 288 221"><path fill="#fff" d="M258.829.94h-82.891c-6.134.0-11.106 4.972-11.106 11.105.0 1.912.42 3.702 1.326 5.272l41.607 72.061a11.09 11.09.0 009.617 5.57c4.117.0 7.701-2.244 9.619-5.57l41.604-72.061c.908-1.57 1.328-3.36 1.328-5.272C269.934 5.912 264.967.94 258.829.94m17.034 6.017a6.07 6.07.0 016.074-6.068 6.064 6.064.0 016.062 6.068 6.065 6.065.0 01-6.062 6.071 6.07 6.07.0 01-6.074-6.071m1.252.0a4.832 4.832.0 004.822 4.817 4.83 4.83.0 004.811-4.817 4.82 4.82.0 00-4.811-4.81 4.823 4.823.0 00-4.822 4.81z"/><g><defs><rect id="SVGID_1_" width="288" height="221"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" overflow="visible"/></clipPath><path clip-path="url(#SVGID_2_)" fill="#fff" d="M284.217 10.003h-.578c-.225.0-.344-.027-.51-.221l-1.645-2.056h-.438v1.948c0 .248-.102.329-.314.329h-.4c-.273.0-.367-.053-.367-.329V4.221c0-.296.174-.307.367-.307h1.754c1 0 1.209.059 1.566.413.312.326.463.892.463 1.703.0 1.025-.412 1.601-1.344 1.67l1.562 1.866c.181.216.149.437-.116.437m-1.475-5.117c-.244-.12-1.385-.065-1.695-.065V6.82h1.162c.412.0.607-.067.719-.207.064-.107.131-.218.131-.665.0-.672-.108-.949-.317-1.062zm-152.965 98.36c0 .01.01.017.01.022v-.009l-.01-.013m73.032 1.39-.457-.79-52.35-90.674C145.639 5.613 137.273.94 127.98.94H85.549a8.573 8.573.0 00-8.571 8.57c0 1.471.34 2.881 1.024 4.06l51.785 89.698a27.014 27.014.0 013.728 13.735c0 4.864-1.281 9.424-3.517 13.371l-45.029 78.001c-.683 1.172-1.021 2.584-1.021 4.057a8.567 8.567.0 008.57 8.568h43.537c9.289.0 17.658-4.67 22.021-12.228l.896-1.56 43.299-74.998.807-1.395c2.207-3.827 3.227-8.203 3.227-12.854.0-4.846-1.242-9.423-3.496-13.329z"/></g><path fill="#fff" d="M83.18 140.865c-.793.0-1.584.327-2.309.457-2.436.527-5.139 1.058-8.037 1.058-1.582.0-3.035-.332-3.957-.726-2.041-.921-2.238-3.493-2.174-6.792h16.079c2.306.0 2.767-.392 2.767-4.016.0-4.223-.392-8.371-2.435-11.334-1.911-2.703-5.208-4.089-10.677-4.089-5.798.0-9.427 1.517-11.4 4.353-2.047 2.896-2.641 6.785-2.641 12.582.0 6.53.924 10.817 3.695 13.385 2.173 2.042 5.735 3.09 10.68 3.09 2.831.0 6.717-.261 9.942-.856 2.047-.327 2.375-1.378 2.375-2.898.0-.726.0-1.518-.127-2.173-.201-.858-.795-2.041-1.781-2.041M66.703 128.47c0-4.807.992-6.453 5.734-6.453 4.483.0 5.071 1.709 5.071 5.795v1.255H66.703v-.597zm-23.548-13.046c-3.562.0-6.722 1.184-8.902 2.239v-12.191c0-1.251-.524-2.838-2.566-2.838h-2.965c-1.91.0-2.899.594-2.899 2.838v39.875c0 1.578.526 2.629 2.375 2.629h3.489c2.042.0 2.566-1.119 2.566-2.964V129.91c0-4.726.978-6.338 5.633-6.338 4.406.0 4.988 1.679 4.988 5.688v1.232h-.018c.01.635.016 1.357.016 2.168v12.352c0 1.98.654 2.964 2.368 2.964h3.5c2.035.0 2.566-1.119 2.566-2.964v-20.227c0-4.29-2.045-9.361-10.151-9.361zM18.977 123.327h-7.115v13.25c0 3.095.133 4.283.396 4.808.198.335.532.529.987.529 1.849.0 3.884-.987 5.406-.987 1.451.0 1.783 1.12 1.783 1.841v2.373c0 2.439-.664 3.103-2.769 3.298-2.11.196-3.559.328-5.739.328-6.989.0-8.5-2.57-8.5-10.413v-15.026H1.58c-1.248.0-1.58-.855-1.58-1.908v-2.836c0-1.65.656-2.174 1.777-2.174h1.649v-5.34c0-2.24.922-2.902 2.834-2.902h2.967c2.041.0 2.635 1.648 2.635 2.902v5.34h6.461c1.447.0 2.24.198 2.24 2.109v2.304c0 2.239-.398 2.504-1.586 2.504m155.151 76.898 5.053 8.552 4.775 2.756c.662.384.797.88.422 1.517l-.541.961c-.43.733-.824.945-1.598.496l-4.598-2.654-10.481-.123c-.293.007-.572-.034-.773-.151-.549-.317-.414-.92-.205-1.278l.689-1.195c.383-.665.756-.745 1.287-.737l7.179.144-3.701-6.226c-.268-.45-.364-.806.021-1.471l.566-.976c.334-.582.795-.668 1.219-.422.266.151.539.549.686.807M196.514 192.042l-.539.93c-.383.664-.857.715-1.508.402l-9.376-4.642c.388.461.945 1.079 1.377 1.563 1.676 1.976 3.5 4.006 4.571 5.369.43.543.584.991.164 1.715l-.332.582c-.426.734-.876.804-1.562.701-1.713-.25-4.413-.767-6.963-1.234-.646-.106-1.436-.326-2.029-.43l8.705 5.804c.602.406.793.845.412 1.502l-.541.937c-.398.687-.867 1.035-1.652.496l-12.277-8.604c-.76-.526-.567-1.065-.258-1.601l.705-1.222c.357-.618.74-.816 1.344-.734 2.521.359 6.938 1.219 10.326 1.811-2.209-2.633-5.166-6.028-6.736-8.032-.371-.481-.391-.906-.031-1.528l.703-1.222c.309-.531.682-.97 1.516-.578l13.585 6.336c.859.4.794.986.396 1.679M203.475 180.39c-.486.998-.758 1.57-1.35 2.595-.477.825-1.117 1.787-1.781 2.468-2.541 2.655-5.602 1.803-9.447-.416-6.528-3.771-6.558-6.541-4.058-10.873.594-1.023.955-1.554 1.574-2.47.592-.873.949-.992 1.449-.703l.731.421c.795.459.984.75.574 1.454-.475.828-.818 1.164-1.497 2.341-.414.711-1.012 1.903-1.088 2.602-.178 1.642 1.554 2.699 4.108 4.168 2.512 1.453 4.541 2.453 6.01.727.299-.361.705-.957 1.102-1.645.68-1.178.803-1.645 1.273-2.469.408-.709.752-.687 1.555-.224l.734.421c.488.281.572.656.111 1.603M211.623 165.868l-.705 1.221c-.398.688-.844.697-1.381.594l-3.344-.621c-.529.97-.936 1.679-1.505 2.654a94.672 94.672.0 01-1.493 2.539l2.105 2.406c.486.545.715.916.277 1.666l-.588 1.028c-.438.758-.701.75-1.031.556-.135-.072-.365-.296-.588-.576l-10.078-11.888c-.547-.648-.719-1.07-.242-1.889l.523-.909c.473-.826.93-.892 1.736-.75l15.719 2.678c.139.019.273.041.391.106.55.319.409.828.204 1.185m-14.471-.537 4.211 4.809c.297-.516.621-1.127.992-1.768.398-.693.691-1.148 1.062-1.791l-6.265-1.25z"/></svg></span><span class=navbar-brand__name>YMCA Website Services</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class=nav-item><a class="nav-link active" href=/docs/><span>Documentation</span></a></li><li class=nav-item><a class=nav-link href=/community/><span>Community</span></a></li><li class=nav-item><a class=nav-link href=/docs/glossary/><span>Glossary</span></a></li><li class=nav-item><a class=nav-link href=/roadmap/><span>Roadmap</span></a></li><li class=nav-item><a class=nav-link href=/blog/><span>Updates</span></a></li><li class="td-light-dark-menu nav-item dropdown"><svg class="d-none"><symbol id="check2" viewBox="0 0 16 16"><path d="M13.854 3.646a.5.5.0 010 .708l-7 7a.5.5.0 01-.708.0l-3.5-3.5a.5.5.0 11.708-.708L6.5 10.293l6.646-6.647a.5.5.0 01.708.0z"/></symbol><symbol id="circle-half" viewBox="0 0 16 16"><path d="M8 15A7 7 0 108 1v14zm0 1A8 8 0 118 0a8 8 0 010 16z"/></symbol><symbol id="moon-stars-fill" viewBox="0 0 16 16"><path d="M6 .278a.768.768.0 01.08.858 7.208 7.208.0 00-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527.0 1.04-.055 1.533-.16a.787.787.0 01.81.316.733.733.0 01-.031.893A8.349 8.349.0 018.344 16C3.734 16 0 12.286.0 7.71.0 4.266 2.114 1.312 5.124.06A.752.752.0 016 .278z"/><path d="M10.794 3.148a.217.217.0 01.412.0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217.0 010 .412l-1.162.387A1.734 1.734.0 0011.593 7.69l-.387 1.162a.217.217.0 01-.412.0l-.387-1.162A1.734 1.734.0 009.31 6.593l-1.162-.387a.217.217.0 010-.412l1.162-.387a1.734 1.734.0 001.097-1.097l.387-1.162zM13.863.099a.145.145.0 01.274.0l.258.774c.115.346.386.617.732.732l.774.258a.145.145.0 010 .274l-.774.258a1.156 1.156.0 00-.732.732l-.258.774a.145.145.0 01-.274.0l-.258-.774a1.156 1.156.0 00-.732-.732l-.774-.258a.145.145.0 010-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/></symbol><symbol id="sun-fill" viewBox="0 0 16 16"><path d="M8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 0zm0 13a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 13zm8-5a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2a.5.5.0 01.5.5zM3 8a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2A.5.5.0 013 8zm10.657-5.657a.5.5.0 010 .707l-1.414 1.415a.5.5.0 11-.707-.708l1.414-1.414a.5.5.0 01.707.0zm-9.193 9.193a.5.5.0 010 .707L3.05 13.657a.5.5.0 01-.707-.707l1.414-1.414a.5.5.0 01.707.0zm9.193 2.121a.5.5.0 01-.707.0l-1.414-1.414a.5.5.0 01.707-.707l1.414 1.414a.5.5.0 010 .707zM4.464 4.465a.5.5.0 01-.707.0L2.343 3.05a.5.5.0 11.707-.707l1.414 1.414a.5.5.0 010 .708z"/></symbol></svg>
<button class="btn btn-link nav-link dropdown-toggle d-flex align-items-center" id=bd-theme type=button aria-expanded=false data-bs-toggle=dropdown data-bs-display=static aria-label="Toggle theme (auto)"><svg class="bi my-1 theme-icon-active"><use href="#circle-half"/></svg></button><ul class="dropdown-menu dropdown-menu-end" aria-labelledby=bd-theme-text><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=light aria-pressed=false>
<svg class="bi me-2 opacity-50"><use href="#sun-fill"/></svg>
Light<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=dark aria-pressed=false>
<svg class="bi me-2 opacity-50"><use href="#moon-stars-fill"/></svg>
Dark<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center active" data-bs-theme-value=auto aria-pressed=true>
<svg class="bi me-2 opacity-50"><use href="#circle-half"/></svg>
Auto<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li></ul></li></ul></div><div class="d-none d-lg-block"><div class=td-search><div class=td-search--algolia id=docsearch-1></div></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>This is the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.</p><p><a href=/docs/howto/>Return to the regular view of this page</a>.</p></div><h1 class=title>How-to</h1><div class=lead>These guides will help you quickly accomplish common tasks.</div><ul><li>1: <a href=#pg-9adb53adc20c70bfe198288a3b4ea573>How to avoid outdated configuration</a></li><ul></ul><li>2: <a href=#pg-6cc19125623df64152d0ec81a3b866b9>How to customize your locations map</a></li><ul></ul><li>3: <a href=#pg-046a874ff8eaf2a61a0e12cf99c99736>How to install Cachet (the official Y Font)</a></li><ul></ul><li>4: <a href=#pg-ccbf1be0e59a38429e0e4b4d9df3b9d3>How to integrate with social media</a></li><ul></ul><li>5: <a href=#pg-85c0b6b1392c930c26370081bb717e49>How to migrate content into Layout Builder</a></li><ul></ul><li>6: <a href=#pg-9617c46b5dd032074995edc4feb993f1>How to perform a content audit</a></li><ul></ul><li>7: <a href=#pg-b21e880e83b51c3fc40472a5208ceedc>How to set up a Layout Builder site</a></li><ul></ul><li>8: <a href=#pg-48918616b15b4f7490b9f1fb07261350>How to set up a site with the Small Y template</a></li><ul></ul><li>9: <a href=#pg-c97802e1c95965d0aa1b9003ad17ba07>How to track & analyze user actions</a></li><ul></ul><li>10: <a href=#pg-00eda265918353254bbc8ae2260bcc5a>How to leverage structured data</a></li><ul></ul><li>11: <a href=#pg-db0b5e2da5e4fdb217540279416c4df3>How to use the Canadian Colourway for Layout Builder</a></li><ul></ul><li>12: <a href=#pg-f9886c37aceba8f168a4c1205aef8e53>How to use two-factor authentication</a></li><ul></ul></ul><div class=content><blockquote><p>How-to guides are directions that take the reader through the steps required to solve a real-world problem. How-to guides are goal-oriented.</p><p>&ndash;
<a href=https://diataxis.fr/how-to-guides/ target=_blank>Diátaxis</a> guide to technical documentation</p></blockquote><p>Our guides are always evolving. If you have a request for a guide, please
<a href=../../community>get in touch</a>.</p></div></div><div class=td-content><h1 id=pg-9adb53adc20c70bfe198288a3b4ea573>1 - How to avoid outdated configuration</h1><div class=lead>Managing config across versions of a module can result in unexpected challenges.</div><p>Sometimes, in the process of making successive config changes, we need to maintain old config files so that outdated update hooks can still run successfully for sites who are running a module that might be many releases behind.</p><p>When a new update runs into an error like:</p><blockquote><p>Configuration ______ depends on the ____ configuration that will not exist after import.</p></blockquote><p>the error most often means that some configuration that&rsquo;s expected in a prior update hook has been removed from the codebase.</p><p>In order to enable our modules to move quickly and minimize the need for developers to
<a href=../../development/important-versions-for-upgrade-path#important-versions>stop their update process at important versions</a>, we have come up with a process of retaining &ldquo;outdated&rdquo; configuration when necessary.</p><h2 id=overview>Overview<a class=td-heading-self-link href=#overview aria-label="Heading self-link"></a></h2><p>This process ends up with a configuration directory that looks like:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>config/
</span></span><span class=line><span class=cl><span class=p>|</span>- 1.0/
</span></span><span class=line><span class=cl><span class=p>|</span>--- a.bunch.of.yml
</span></span><span class=line><span class=cl><span class=p>|</span>- 1.3/
</span></span><span class=line><span class=cl><span class=p>|</span>--- some.different.yml
</span></span><span class=line><span class=cl><span class=p>|</span>- install/
</span></span><span class=line><span class=cl><span class=p>|</span>--- the.regular.yml
</span></span><span class=line><span class=cl><span class=p>|</span>- optional/
</span></span><span class=line><span class=cl><span class=p>|</span>--- other.optional.yml
</span></span><span class=line><span class=cl><span class=p>|</span> etc
</span></span></code></pre></div><p>See a few examples:</p><ul><li><a href=https://git.drupalcode.org/project/ws_event/-/merge_requests/72 target=_blank>ws_event - MR !72</a></li><li><a href=https://git.drupalcode.org/project/lb_accordion/-/merge_requests/24 target=_blank>lb_accordion - MR !24</a></li><li><a href=https://git.drupalcode.org/project/lb_cards/-/merge_requests/45 target=_blank>lb_cards - MR !45</a></li></ul><h2 id=fixing-an-update-hook>Fixing an update hook<a class=td-heading-self-link href=#fixing-an-update-hook aria-label="Heading self-link"></a></h2><ol><li>Find the version of the module where the failing update hook was committed.</li><li>Checkout or download the old version to a separate working directory.</li><li>Copy all config files that are being imported in that hook into a new
directory, like <code>config/outdated/x.x.x</code>.</li><li>Change the <code>$path</code> line in the failing update hook, changing
<code>/config/optional</code> to <code>/config/outdated/x.x.x</code>.</li><li>Commit those changes and test thoroughly.</li></ol><h2 id=warning-signs>Warning signs<a class=td-heading-self-link href=#warning-signs aria-label="Heading self-link"></a></h2><p>The error above is the most significant indicator of an issue, but it would be optimal to avoid those errors altogether.</p><p>Look out for changes in these types of files:</p><p><code>core.entity_form_display.block_content.*.default.yml</code>
<code>core.entity_view_display.block_content.*.default</code></p><p>Adding or removing major features or fields could also result in the error.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-6cc19125623df64152d0ec81a3b866b9>2 - How to customize your locations map</h1><p>YMCA Website Services includes robust mapping functionality defined in the
<a href=https://github.com/open-y-subprojects/openy_map target=_blank>openy_map subproject</a>. Maps typically are displayed on the <code>/locations</code> page using the
<a href=../../user-documentation/layout-builder/location-finder>Location Finder component</a> and are highly customizable.</p><p>These are a few common customizations:</p><h2 id=changing-map-options>Changing Map Options<a class=td-heading-self-link href=#changing-map-options aria-label="Heading self-link"></a></h2><p>By default, content types have these labels on the map:</p><ul><li>Branch = YMCAs</li><li>Camp = Camps</li><li>Facility = Facilities</li></ul><p><figure class=image-caption><a href=/docs/howto/map-settings-config/map-labels.png title="View original image"><img alt="Screenshot showing map labels" srcset="/docs/howto/map-settings-config/map-labels_hu7154277784439280309.png 458w,
/docs/howto/map-settings-config/map-labels_hu8080109890339413099.png 726w,
/docs/howto/map-settings-config/map-labels_hu6754814498056842106.png 1200w" sizes=50vw src=/docs/howto/map-settings-config/map-labels_hu7154277784439280309.png><figcaption><i class="fa-solid fa-external-link fa-fw"></i></figcaption></a></figure></p><p>These labels can be customized in the Drupal administration pages to better suit your YMCA&rsquo;s more member-focused terminology. To do so:</p><ul><li>In the Admin Menu, go to <strong>YMCA Website Services</strong> (or <strong>Open Y</strong> on prior versions) > <strong>Settings</strong> > <strong>Map Settings</strong></li><li>In the <strong>Branch/Camp/Facility Content Type</strong> sections you can:<ul><li>edit the label names,</li><li>show or hide the content type on the Locations page,</li><li>set the filter to be on or off by default, and</li><li>set the map icon.<figure class=image-caption><a href=/docs/howto/map-settings-config/branch-content-type-map-settings.png title="View original image"><img alt="Branch content type settings" srcset="/docs/howto/map-settings-config/branch-content-type-map-settings_hu14326628920011377235.png 458w,
/docs/howto/map-settings-config/branch-content-type-map-settings_hu11563029827542320459.png 726w,
/docs/howto/map-settings-config/branch-content-type-map-settings_hu6434724479439882207.png 1200w" sizes=50vw src=/docs/howto/map-settings-config/branch-content-type-map-settings_hu14326628920011377235.png><figcaption><i class="fa-solid fa-external-link fa-fw"></i></figcaption></a></figure></li></ul></li><li>Edit each content type as needed then <strong>Save</strong> the form.</li><li>Reload <code>/locations</code> and you should see your changes.</li></ul><h2 id=adding-additional-location-types>Adding Additional Location Types<a class=td-heading-self-link href=#adding-additional-location-types aria-label="Heading self-link"></a></h2><p>You can add new content types to the map with a few steps. This may require some trial and error, so be sure to work in a testing environment first. You will need to have the <strong>Field UI</strong> module enabled to do this through the Drupal admin UI.</p><ul><li>Create a new content type via <strong>Structure</strong> > <strong>Content types</strong> > <strong>Add content type</strong></li><li>Add these existing fields to the content type:<ul><li><code>field_location_coordinates</code> - required</li><li><code>field_location_address</code> and <code>field_location_phone</code> - suggested for display on the map and location teasers.</li><li><code>field_location_amenities</code> - if the location should be searchable with the Amenities search.</li></ul></li><li>Set up the Teaser display on the new content type:<ul><li>Navigate to <strong>Manage display</strong> then <strong>Teaser</strong></li><li>Update these settings to match the Branch Teaser display at <code>/admin/structure/types/manage/branch/display/teaser</code></li></ul></li><li>Go back to the Map Settings at <code>admin/openy/settings/openy_map</code> and configure the options for your new location type.</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-046a874ff8eaf2a61a0e12cf99c99736>3 - How to install Cachet (the official Y Font)</h1><div class=lead>Cachet, the Y&rsquo;s primary font, should be used for all internal and external materials whenever possible.</div><p>From
<a href=https://link.ymca.net/mlink/post/ODI2MA target=_blank>YMCA Link</a>:</p><blockquote><p>Typography is an important element of our brand identity. Cachet and Verdana, the only two fonts used on YMCA collateral, help provide our words with a distinctive look and welcoming feel. And Cachet, as our primary font, should be used for all internal and external materials whenever possible.</p><p>To help Ys incorporate the Cachet font into their online applications, <strong>Y-USA is now licensing the web font version of Cachet for all YMCAs.</strong> Previously, Ys could only access the desktop version of the font from the Brand Resource Center (BRC).</p><p>Visit the BRC to:</p><ul><li><a href=https://theybrand.org/wordpress/cachet target=_blank>Download Cachet as a Web Font </a>(requires YMCA Link login)</li></ul></blockquote><h2 id=for-developers>For developers<a class=td-heading-self-link href=#for-developers aria-label="Heading self-link"></a></h2><p>YMCA development partners can take advantage of a custom module which allows for automation of this process.
<a href=mailto:ycloud@ymca.net>Get in touch</a> or reach out in <code>#developers</code> on the YUSA Slack for more details.</p><h2 id=for-site-builders>For site builders<a class=td-heading-self-link href=#for-site-builders aria-label="Heading self-link"></a></h2><p>Once you&rsquo;ve downloaded the WOFF files, you&rsquo;ll need to add them to your site. These instructions mirror the
<a href="https://www.youtube.com/watch?v=AGlOmmy_GUw" target=_blank>walkthrough in this video</a>.</p><ul><li>Visit <strong>Admin</strong> > <strong>Extend</strong> and ensure the &ldquo;@fontyourface&rdquo; and &ldquo;@fontyourface - Local Fonts&rdquo; modules are enabled.</li><li>Visit <strong>Admin</strong> > <strong>Appearance</strong> > <strong>@font-your-face</strong> > <strong>Custom Fonts</strong></li><li>Click <strong>+ Add Custom Font</strong> and add each of the Cachet font files you downloaded above with the following settings:</li></ul><table><thead><tr><th>Label</th><th>Font Family</th><th>Font Style</th><th>Font Weight</th><th>Font Classification</th><th>Font File</th></tr></thead><tbody><tr><td>Cachet Extra Light</td><td>Cachet</td><td>Normal</td><td>300</td><td>Sans Serif</td><td>CachetW05-ExtraLight.woff</td></tr><tr><td>Cachet Book</td><td>Cachet</td><td>Normal</td><td>400</td><td>Sans Serif</td><td>CachetW05-Book.woff</td></tr><tr><td>Cachet Medium</td><td>Cachet</td><td>Normal</td><td>500</td><td>Sans Serif</td><td>CachetW05-Medium.woff</td></tr><tr><td>Cachet Bold</td><td>Cachet</td><td>Normal</td><td>700</td><td>Sans Serif</td><td>CachetW05-Bold.woff</td></tr></tbody></table><p><figure class=image-caption><a href=/docs/howto/install-cachet/Add_custom_font.png title="View original image"><img alt=Add_custom_font|591x500 srcset="/docs/howto/install-cachet/Add_custom_font_hu4042899746602487327.png 458w,
/docs/howto/install-cachet/Add_custom_font_hu10749678797211213274.png 726w,
/docs/howto/install-cachet/Add_custom_font_hu13554891598550678448.png 1200w" sizes=50vw src=/docs/howto/install-cachet/Add_custom_font_hu4042899746602487327.png><figcaption><i class="fa-solid fa-external-link fa-fw"></i></figcaption></a></figure></p><ul><li>After you&rsquo;ve added each font, <strong>Enable</strong> them.</li></ul><p><figure class=image-caption><a href=/docs/howto/install-cachet/Custom_Font.png title="View original image"><img alt="Custom_Font|690x156, 100%" srcset="/docs/howto/install-cachet/Custom_Font_hu17311316854134682968.png 458w,
/docs/howto/install-cachet/Custom_Font_hu17753351224903383618.png 726w,
/docs/howto/install-cachet/Custom_Font_hu7029720152564667726.png 1200w" sizes=50vw src=/docs/howto/install-cachet/Custom_Font_hu17311316854134682968.png><figcaption><i class="fa-solid fa-external-link fa-fw"></i></figcaption></a></figure></p><ul><li>Your site should now use the Cachet font in headers and other areas. Usage is dependent on the YMCA Website Services theme you choose.</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-ccbf1be0e59a38429e0e4b4d9df3b9d3>4 - How to integrate with social media</h1><div class=lead>Embedded social feeds or posts can help share your message with users.</div><p>Social media is a great platform for communicating with your Y community, and it&rsquo;s often helpful to embed feeds or posts on a page to share topical content with users.</p><p>The distribution has used several methods over the years to add social content to sites, but all of them are dependent on the specific platforms maintaining open APIs. Unfortunately, many social networks are now locking down and restricting their APIs.</p><h2 id=how-to-embed-social-content-in-your-ymca-website-in-2023>How to embed social content in your YMCA website (in 2023)<a class=td-heading-self-link href=#how-to-embed-social-content-in-your-ymca-website-in-2023 aria-label="Heading self-link"></a></h2><p>Currently, we recommend using embed codes from the specific platform to embed social posts or feeds on your YMCA Website Services website.</p><h3 id=find-the-embed-code>Find the embed code<a class=td-heading-self-link href=#find-the-embed-code aria-label="Heading self-link"></a></h3><p>Each platform has its own way of doing embeds. For posts, you can often find an &ldquo;Embed&rdquo; button in the options or share menu. For feeds, you often need to use a separate builder. Here are some options we&rsquo;ve found:</p><ul><li><a href=https://publish.twitter.com/ target=_blank>Twitter / 𝕏 Publish</a></li><li><a href=https://developers.facebook.com/docs/plugins target=_blank>Meta (Facebook/Instagram) Social Plugins</a></li></ul><blockquote><p><strong>Note:</strong> Social platforms may break these embeds at their whim. Use at your own risk.</p></blockquote><h3 id=embeds-using-paragraphs>Embeds using Paragraphs<a class=td-heading-self-link href=#embeds-using-paragraphs aria-label="Heading self-link"></a></h3><ul><li>Navigate to a content page on your site, then click <strong>Edit</strong>.</li><li>Add a
<a href=../../user-documentation/paragraphs/code>Code Paragraph</a> to the section where you&rsquo;d like to do the embed.</li><li>Paste in the embed code generated above.</li><li><strong>Save</strong> the page.</li></ul><h3 id=embeds-using-layout-builder>Embeds using Layout Builder<a class=td-heading-self-link href=#embeds-using-layout-builder aria-label="Heading self-link"></a></h3><ul><li>Navigate to a content page on your site, then click <strong>Layout</strong>.</li><li>Add a
<a href=../../user-documentation/layout-builder/code>Code Block</a>to the section where you&rsquo;d like to do the embed.</li><li>Paste in the embed code generated above.</li><li><strong>Save</strong> the block, then <strong>Save layout</strong> on the page.</li></ul><h3 id=alternatively-try-social-feeds-fetcher>Alternatively, try Social Feeds Fetcher<a class=td-heading-self-link href=#alternatively-try-social-feeds-fetcher aria-label="Heading self-link"></a></h3><p>The
<a href=https://www.drupal.org/project/social_feed_fetcher target=_blank>Social Feeds Fetcher module</a> that comes with the distribution allows your site to import social media content for syndication.</p><p>To configure fetching:</p><ul><li>Open the configuration page at <code>/admin/config/social_feed_fetcher_settings</code> or <strong>Configuration</strong> > <strong>Web Services</strong> > <strong>Social Feed Fetcher Settings</strong></li><li>Select the checkbox for your chosen social networks and add additional settings. Every social network has its own API and requires different configuration.</li><li>When all settings are completed, click <strong>Run Cron</strong>. The import is started and if the configuration is correct, items will appear in the content list.</li></ul><h2 id=how-to-share-content-from-your-site-to-social-media>How to share content from your site to social media<a class=td-heading-self-link href=#how-to-share-content-from-your-site-to-social-media aria-label="Heading self-link"></a></h2><blockquote><p>All mobile browsers — Firefox, Edge, Safari, Chrome, Opera Mini, UC Browser, Samsung Internet — make it easy to share content directly from their native platforms.</p><p>&ndash;
<a href=https://css-tricks.com/ux-considerations-for-web-sharing/ target=_blank>UX Considerations for Web Sharing</a></p></blockquote><h3 id=using-addtoany>Using AddToAny<a class=td-heading-self-link href=#using-addtoany aria-label="Heading self-link"></a></h3><p>According to their
<a href=https://www.addtoany.com/blog/replace-addthis-with-addtoany-the-addthis-alternative/ target=_blank>introductory blog post</a>:</p><blockquote><p>AddToAny is the perfect drop-in replacement for AddThis.</p></blockquote><p><figure class=image-caption><a href=/docs/howto/add-social-feeds/addtoany--popup.png title="View original image"><img alt="A screenshot of the AddToAny popup." srcset="/docs/howto/add-social-feeds/addtoany--popup_hu2543994260050065059.png 458w,
/docs/howto/add-social-feeds/addtoany--popup_hu15328076899760247863.png 726w,
/docs/howto/add-social-feeds/addtoany--popup_hu5747977773723159969.png 1200w" sizes=50vw src=/docs/howto/add-social-feeds/addtoany--popup_hu2543994260050065059.png><figcaption><i class="fa-solid fa-external-link fa-fw"></i></figcaption></a></figure></p><p>As of December 2023, the
<a href=https://www.drupal.org/project/addtoany target=_blank>AddToAny module</a> is included in the YMCA Website Services distribution. It is not enabled out of the box, but if you need to supplement native platforms&rsquo; sharing services, here&rsquo;s how:</p><ul><li>Go to <strong>Admin</strong> > <strong>Extend</strong> (<code>/admin/modules</code>) and enable the <strong>AddToAny</strong> module.</li><li>Configure the module at <strong>Admin</strong> > <strong>Configuration</strong> > <strong>Web Services</strong> > <strong>AddToAny</strong> (<code>/admin/config/services/addtoany</code>)</li></ul><p>Full documentation on AddToAny is available on
<a href=https://www.drupal.org/docs/contributed-modules/addtoany-share-buttons/configuring-addtoany target=_blank>Drupal.org</a> and
<a href=https://www.addtoany.com/buttons/customize/drupal/standalone_services target=_blank>AddToAny&rsquo;s Drupal Sharing Customization</a>.</p><h4 id=addtoany-with-layout-builder>AddToAny with Layout Builder<a class=td-heading-self-link href=#addtoany-with-layout-builder aria-label="Heading self-link"></a></h4><p>To integrate AddToAny with the Layout Builder Design System:</p><ul><li>Set the following configuration options for AddToAny:<ul><li><strong>Icon size</strong>: 36 pixels</li><li><strong>Service Buttons</strong>: Change to any number of
<a href=https://www.addtoany.com/buttons/customize/drupal/standalone_services target=_blank>standalone service buttons</a> that you would like.</li><li><strong>Additional JavaScript</strong>: Add this code to have the buttons follow the configured colorway:<div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>a2a_config</span><span class=p>.</span><span class=nx>icon_color</span> <span class=o>=</span> <span class=s2>&#34;var(--wsPrimaryColor),white&#34;</span><span class=p>;</span>
</span></span></code></pre></div></li><li>Save the configuration</li></ul></li><li>Add the <strong>AddToAny share buttons</strong> to the
<a href=../../user-documentation/layout-builder/advanced-options/#content-type-styles>default Layout Builder display</a>.<ul><li>Edit a single Page Layout or the Content Type Layout.</li><li>Decide where to add the share block. We recommend the right side of the footer, above or below the &ldquo;Stay Connected&rdquo; block, but any section of the page would work.</li><li>In Layout Builder, <strong>Add block</strong>, then choose <strong>All system blocks</strong> > <strong>AddToAny share buttons</strong>.<ul><li>Set a <strong>Title</strong> like &ldquo;Share this&rdquo;.</li><li>Choose to <strong>Display title</strong>.</li><li>Leave other configuration as their defaults.</li><li>In the <strong>Style</strong> settings, expand <strong>Spacing</strong> and add a top or bottom margin of 32px to ensure the block is spaced properly from the block above or below it.</li></ul></li></ul></li><li>Save the Block and the Layout.</li></ul><p><figure class=image-caption><a href=/docs/howto/add-social-feeds/addtoany--footer.png title="View original image"><img alt="A screenshot of the AddToAny share block in the footer of a page." srcset="/docs/howto/add-social-feeds/addtoany--footer_hu3844502604958178849.png 458w,
/docs/howto/add-social-feeds/addtoany--footer_hu6583106833763198614.png 726w,
/docs/howto/add-social-feeds/addtoany--footer_hu8950726387695176219.png 1200w" sizes=50vw src=/docs/howto/add-social-feeds/addtoany--footer_hu3844502604958178849.png><figcaption><i class="fa-solid fa-external-link fa-fw"></i></figcaption></a></figure></p><h3 id=using-addthis>Using AddThis<a class=td-heading-self-link href=#using-addthis aria-label="Heading self-link"></a></h3><p>This
<a href=../../user-documentation/paragraphs/social-share-icons>Social Share Icons</a> paragraph and the
<a href=https://www.drupal.org/project/openy_addthis target=_blank>AddThis module</a> ceased functioning on May 31, 2023, with the discontinuation of
<a href=https://www.addthis.com/ target=_blank>AddThis</a> services.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-85c0b6b1392c930c26370081bb717e49>5 - How to migrate content into Layout Builder</h1><div class=lead>Leaping to Layout Builder can seem daunting, but we have resources to help.</div><p>Before you start your migration, we recommend you:</p><ul><li>understand your current site with a
<a href=../content-audit>Content Audit</a>,</li><li>familiarize yourself with the
<a href=../../user-documentation/layout-builder/>new Layout Builder Components</a>,</li><li>watch our
<a href="https://youtu.be/YdYaYE0bd6w?t=794&amp;si=xPvRoLM0O-VxABDZ" target=_blank>comparison of Paragraphs and Layout Builder</a>, and</li><li>see a side-by-side demo of the
<a href=https://youtu.be/jrRY3q2lP4s target=_blank>old vs. new page building experiences</a>.</li></ul><h2 id=how-long-do-i-have>How long do I have?<a class=td-heading-self-link href=#how-long-do-i-have aria-label="Heading self-link"></a></h2><p>Layout Builder components for YMCA Website Services were developed and released throughout 2023. The plan at the outset was that Paragraphs-based components would be supported for one year from the time of the Layout Builder components&rsquo; completion, then would cease being supported. Site owners can begin migrating their content at any time. Upon the deprecation of Paragraphs components, they will not &ldquo;disappear&rdquo;, but they will no longer be supported by the YMCA Website Services core team.</p><p>As of October 2023, the timeline is:</p><ul><li><strong>December 2023</strong> - Layout Builder components are considered &ldquo;feature complete&rdquo;</li><li><strong>2024</strong> - refinement and bug fixing of Layout Builder components, basic bug fixing only for Paragraphs components.</li><li><strong>December 2024</strong> - end of support for Paragraphs components.</li></ul><p>Site owners are encouraged to plan a migration of their content to Layout Builder in 2024, after which point they will be responsible for maintaining Paragraphs components.</p><p>(Timeline is subject to change based on community feedback and priorities.)</p><h2 id=plan-your-migration>Plan your migration<a class=td-heading-self-link href=#plan-your-migration aria-label="Heading self-link"></a></h2><p>The migration from Paragraphs to Layout Builder is not a small one, but it can be done in bite-sized pieces and spread out over some time if necessary. We recommend working with a
<a href=https://ds.ymca.org/partners target=_blank>partner agency</a> to assist you through the process.</p><blockquote><p><strong>TIP</strong>: As you work through the migration, the new pieces of your site <em>will</em> look different than others. Help members through the process with some messaging in an
<a href=../../user-documentation/content-types/alert>Alert</a> or
<a href=../../user-documentation/content-types/lb-article>news post</a> letting them know that things will be changing.</p></blockquote><h2 id=decide-where-to-start>Decide where to start<a class=td-heading-self-link href=#decide-where-to-start aria-label="Heading self-link"></a></h2><p>If you&rsquo;re doing your migration throughout your regular business, without starting from scratch (sometimes called a &ldquo;lazy migration&rdquo;), it helps to identify a strategy for planning the migration. These are a few possible strategies:</p><h3 id=a-campaign-or-goal>A campaign or goal<a class=td-heading-self-link href=#a-campaign-or-goal aria-label="Heading self-link"></a></h3><p>If you have an upcoming marketing campaign you could build one or a few brand new Landing Pages with Layout Builder to try out the process. This way you&rsquo;re easing both your editors and members into the new designs without getting too deep.</p><p>If you have a natural pause in events (maybe over a holiday) or a big series coming up you could use that as the break point for new events. Old events don&rsquo;t necessarily have to be converted to the new design as they&rsquo;re not often viewed after their date has passed.</p><h3 id=a-section-of-the-site>A section of the site<a class=td-heading-self-link href=#a-section-of-the-site aria-label="Heading self-link"></a></h3><p>Maybe you want to ease into the process with some lesser-used pages, maybe you want to change the home page and top-level menu items to show off the new designs right from the outset. Either way, you can decide on a section and carve off a few pages at a time.</p><h3 id=a-content-type>A content type<a class=td-heading-self-link href=#a-content-type aria-label="Heading self-link"></a></h3><p>Events or News articles are a good option to try out the new designs, although you&rsquo;ll need to ensure any Landing Pages that display lists of that content are also updated. Branch pages can be converted one by one without changing their listing on the Locations page.</p><h2 id=prepare-your-content>Prepare your content<a class=td-heading-self-link href=#prepare-your-content aria-label="Heading self-link"></a></h2><p>Once you know what you&rsquo;re going to move, you&rsquo;ll want to get the content ready to migrate. Most text will need to be copied and pasted to the new pages (this is a great opportunity for review), but images and documents will be able to be re-used from the
<a href=../../user-documentation/media>Media Library</a>.</p><p>It could be helpful to print or screenshot pages (Firefox can capture a
<a href=https://support.mozilla.org/en-US/kb/take-screenshots-firefox target=_blank>full-page screenshot</a>) and then annotate them to decide how each section of the page will map to its Layout Builder component. You could even use the
<a href=https://web.archive.org/ target=_blank>Wayback Machine</a> to save a snapshot of the page.</p><h3 id=component-mapping>Component mapping<a class=td-heading-self-link href=#component-mapping aria-label="Heading self-link"></a></h3><p>While the exact mappings are up to each site&rsquo;s content editors, here are some possible mappings from Paragraphs to Layout Builder</p><blockquote><dl><dt>Paragraph</dt><dd>the Layout Builder component it maps to.</dd></dl></blockquote><dl><dt>1 Column</dt><dt>2 Columns</dt><dt>3 Columns</dt><dt>4 Columns</dt><dt>Secondary Description and Sidebar</dt><dd>These paragraphs can be replicated using 1-4 column
<a href=../../user-documentation/layout-builder/#layouts>Layouts</a></dd><dt>Activity Finder</dt><dd><a href=../../user-documentation/layout-builder/activity-finder>Activity Finder</a></dd><dt>All Amenities</dt><dd><a href=../../user-documentation/content-types/branch/#layout-builder-blocks>Branch Amenities</a></dd><dt>Banner</dt><dt>Small Banner</dt><dd><a href=../../user-documentation/layout-builder/banner>Banner</a></dd><dt>Blog Posts Listing</dt><dt>Featured Blog Posts</dt><dt>Featured News Posts</dt><dt>Latest Blog Posts</dt><dt>Latest News Posts</dt><dt>News Posts Listing</dt><dd><a href=../../user-documentation/layout-builder/article-views>Articles Filter, Articles Listing, Featured Articles</a></dd><dt>Camp Menu</dt><dd><a href=../../user-documentation/content-types/camp/#camp-menus>Camp Menu</a></dd><dt>Categories Listing</dt><dd>TBD</dd><dt>Code</dt><dd><a href=../../user-documentation/layout-builder/code>Code</a></dd><dt>Date Block</dt><dd>None</dd><dt>Embedded GroupEx Pro Schedule</dt><dd>Due to changes in the GroupEx Pro embed functionality, we recommend moving to a
<a href=../../user-documentation/layout-builder/code>Code</a> block.</dd><dt>FAQ</dt><dd><a href=../../user-documentation/layout-builder/accordion>Accordion</a></dd><dt>Featured Content</dt><dt>Story Card</dt><dd><a href=../../user-documentation/layout-builder/cards>Cards</a> or
<a href=../../user-documentation/layout-builder/grid-cta>Grid CTA</a></dd><dt>Gallery</dt><dd><a href=../../user-documentation/layout-builder/carousel>Carousel</a></dd><dt>Grid Content</dt><dd><a href=../../user-documentation/layout-builder/grid-cta>Grid CTA</a> or
<a href=../../user-documentation/layout-builder/icon-grid>Icon Grid</a></dd><dt>Limited Time Offer</dt><dd>Banner (small variant) or Alert</dd><dt>Membership Calculator Paragraph</dt><dd><a href=../../user-documentation/membership>Membership Calculator</a></dd><dt>Promo Card</dt><dd><a href=../../user-documentation/layout-builder/promo-card>Promo Card</a></dd><dt>Simple Content</dt><dd><a href=../../user-documentation/layout-builder/table>Table</a></dd><dt>Social Share Icons</dt><dd><a href=../../user-documentation/paragraphs/social-share-icons>Deprecated</a></dd><dt>Teaser</dt><dd><a href=../../user-documentation/layout-builder/ping-pong>Ping-pong</a></dd><dt>Webform</dt><dd><a href=../../user-documentation/layout-builder/webform>Webform</a></dd></dl><h2 id=build-it>Build it<a class=td-heading-self-link href=#build-it aria-label="Heading self-link"></a></h2><p>Once you have a plan, go build it! Use the
<a href=../../user-documentation/layout-builder>Layout Builder</a> documentation to help you through the process. Building each page might look something like this:</p><ul><li>Create a new, unpublished, Landing Page (with Layout Builder)</li><li>Add blocks and content to the new page</li><li>Ensure the URL Alias of the new page matches that of the old page</li><li>Un-publish the old page and publish the new page.</li><li>Test out the new page in a new browser, an incognito window, or your phone or tablet</li></ul><h2 id=get-help>Get help<a class=td-heading-self-link href=#get-help aria-label="Heading self-link"></a></h2><p>If at any point in this process you need help, be sure to reach out to
<a href=../../../community>our community</a>. The functionality is always being improved, and we have a wide variety of developers and builders from other Ys who are happy to help.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-9617c46b5dd032074995edc4feb993f1>6 - How to perform a content audit</h1><div class=lead>Content audits help get an overview of how your site is structured and can assist with migrations, SEO analysis, and more.</div><p>Doing a content audit is a useful first step to planning a migration. You can use our
<a href="https://docs.google.com/spreadsheets/d/1kP4JuXEKP6SFZHzqkUmv1KoTGECFOYaTPzgOc0Lyo-c/edit#gid=0" target=_blank>content audit template</a> and watch our walkthrough on the
<a href="https://youtu.be/Dtaeo9Mf6Ac?t=251" target=_blank>May Monthly Call</a> to get started, then follow these steps:</p><h2 id=audit>Audit<a class=td-heading-self-link href=#audit aria-label="Heading self-link"></a></h2><p>List current website pages in a spreadsheet by menu section.</p><ul><li>This will give you a visual overview of how your site is structured.<ul><li>Be sure to audit your Drupal Admin back end for unpublished pages that can be removed/deleted!</li></ul></li></ul><h2 id=review>Review<a class=td-heading-self-link href=#review aria-label="Heading self-link"></a></h2><p>Visit each page and review content.</p><ul><li>Identify key pages & content types</li><li>Locate content that is outdated, duplicated, needs further review, consolidation etc.</li><li>Find content gaps - what might be missing?</li><li>Identify commonly used page components (i.e. Cards, Carousels, Accordions, Ping Pongs, etc.)</li></ul><h2 id=additional-resources>Additional Resources<a class=td-heading-self-link href=#additional-resources aria-label="Heading self-link"></a></h2><p>For more information on content audits, check out these resources:</p><ul><li><a href=https://www.mightybytes.com/blog/how-to-run-a-content-audit/ target=_blank>Content Audit: A Step-By-Step Guide (MightyBytes)</a></li><li><a href=https://www.nngroup.com/articles/content-audits/ target=_blank>Content Inventory and Auditing 101 (Nielsen Norman Group)</a></li><li><a href=https://imagexmedia.com/blog/5-tips-non-profit-content-strategy target=_blank>Time to Revamp Your Nonprofit Website’s Content Strategy? 5 Tips to Get Started (ImageX)</a></li><li><a href=https://fivejars.com/blog/best-website-audit-tools target=_blank>Best Website Audit Tools (Five Jars)</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-b21e880e83b51c3fc40472a5208ceedc>7 - How to set up a Layout Builder site</h1><div class=lead>Before you build content with Layout Builder, you (or your development partner) must install and configure your site.</div><h2 id=install-and-prepare>Install and prepare<a class=td-heading-self-link href=#install-and-prepare aria-label="Heading self-link"></a></h2><ol><li>Install YMCA Website Services 10.3.0 or higher.</li></ol><ul><li>If you are starting a new site, follow the
<a href=https://github.com/YCloudYUSA/yusaopeny#installation target=_blank>distribution install instructions</a>.</li><li>If you are starting with an internal toolchain, <code>composer require ycloudyusa/yusaopeny</code> at the root of the project.</li></ul><ol start=2><li>Go to <strong>Admin</strong> > <strong>Configuration</strong> > <strong>Basic site settings</strong> and configure the website name and slogan.</li></ol><h2 id=enable-layout-builder-modules>Enable Layout Builder modules<a class=td-heading-self-link href=#enable-layout-builder-modules aria-label="Heading self-link"></a></h2><p>The core functionality of the Layout Builder features is packaged inside the
<a href=https://github.com/YCloudYUSA/y_lb target=_blank>Y Layout Builder module (<code>y_lb</code>)</a>. This module is required by the profile and comes with it out of the box.</p><p>Layout Builder modules could be disabled by default. The complete
<a href=https://github.com/YCloudYUSA/y_lb/blob/main/composer.json#L16 target=_blank>list of available components</a> is available in <code>y_lb/composer.json</code>. There are two different methods to enable them:</p><ol><li>To install only selected modules: Go to <strong>Admin</strong> > <strong>Extend</strong> (<code>/admin/modules</code>) and enable only the components that you choose to use.</li><li>To install all the modules: Go to <strong>Admin</strong> > <strong>YMCA Website Services</strong> > <strong>Extend</strong> > <strong>Install</strong> (<code>/admin/openy/extend/list</code>). Check the box for <strong>Layout Builder</strong>, then <strong>Install</strong>.</li></ol><h2 id=configure-layouts--listings>Configure layouts & listings<a class=td-heading-self-link href=#configure-layouts--listings aria-label="Heading self-link"></a></h2><p>Layout Builder relies on a system of
<a href=https://www.drupal.org/docs/8/core/modules/layout-builder/creating-layout-defaults target=_blank>Layout Defaults</a> and
<a href=https://www.drupal.org/docs/8/core/modules/layout-builder/creating-layout-overrides target=_blank>Layout Overrides</a>. An important concept to understand from these pages is:</p><blockquote><p>Once a Layout is overridden on an entity, that entity will not be impacted by changes to Layout Defaults.</p></blockquote><p>In building Landing Pages, we will override the Default Layout for every page (by placing content blocks). For this reason, it is important that we <strong>configure the desired defaults before building pages</strong>.</p><h3 id=landing-pages>Landing Pages<a class=td-heading-self-link href=#landing-pages aria-label="Heading self-link"></a></h3><p>You will use the
<a href=../../user-documentation/content-types/lb-landing-page>Landing Page (with Layout Builder)</a> content type to build landing pages.</p><ul><li><p>Configure its
<a href=../../user-documentation/layout-builder/advanced-options/#content-type-styles>content type styles</a> at <code>/admin/structure/types/manage/landing_page_lb/display</code> first. Configure:</p><ul><li>Colorway</li><li>Border style</li><li>Border radius</li><li>Text/button alignment</li><li>Button position</li><li>Button fill</li></ul></li></ul><h3 id=locations>Locations<a class=td-heading-self-link href=#locations aria-label="Heading self-link"></a></h3><p>You will use the
<a href=../../user-documentation/content-types/branch>Branch</a>,
<a href=../../user-documentation/content-types/camp>Camp</a>, and
<a href=../../user-documentation/content-types/facility>Facility</a> content types to build pages that contain the contact and amenity details for each location.</p><ul><li>For new sites, you may set the <strong>Use Layout Builder</strong> checkbox to be true by default at <code>/admin/structure/types/manage/branch/fields/node.branch.field_use_layout_builder</code>.</li><li>Configure the default layout and settings for each type on their corresponding layout settings pages:<ul><li>Branch: <code>/admin/structure/types/manage/branch/display</code></li><li>Camp: <code>/admin/structure/types/manage/camp/display</code></li><li>Facility: <code>/admin/structure/types/manage/facility/display</code></li></ul></li><li>Create a locations page with the URL alias <code>/locations</code> using
<a href=../../user-documentation/layout-builder/location-finder>Location Finder</a>.</li></ul><h3 id=events>Events<a class=td-heading-self-link href=#events aria-label="Heading self-link"></a></h3><p>Enable
<a href=https://www.drupal.org/project/ws_event target=_blank>Events with Layout Builder (<code>ws_event</code>)</a> to use Events with Layout Builder.</p><ul><li>Configure its default layout and settings at <code>admin/structure/types/manage/lb_event/display</code>.</li><li>Create an events listing page with the URL alias <code>/events</code> using
<a href=../../user-documentation/layout-builder/event-views>Events Views & Filters</a></li></ul><h3 id=articles>Articles<a class=td-heading-self-link href=#articles aria-label="Heading self-link"></a></h3><p>Enable
<a href=https://www.drupal.org/project/y_lb_article target=_blank>Articles with Layout Builder (<code>y_lb_article</code>)</a> to use Articles with Layout Builder.</p><ul><li>Configure its default layout and settings at <code>/admin/structure/types/manage/article_lb/display</code>.</li><li>Add an article listing page with the URL alias <code>/news</code> using
<a href=../../user-documentation/layout-builder/article-views>Article Views & Filters</a>.</li></ul><h2 id=activity-finder>Activity Finder<a class=td-heading-self-link href=#activity-finder aria-label="Heading self-link"></a></h2><p>Enable <code>openy_node_session</code>, <code>openy_node_program</code>, <code>openy_node_category</code>, <code>openy_node_activity</code>, and <code>openy_node_class</code> to set up the Program Event Framework (PEF) if you plan to use Schedules or Activity Finder on the project.</p><p>Then require and enable
<a href=https://github.com/YCloudYUSA/yusaopeny_activity_finder target=_blank><code>yusaopeny_activity_finder</code></a> to use
<a href=../../user-documentation/schedules/activity-finder>Activity Finder</a>.</p><h2 id=canadian-ymcas>Canadian YMCAs<a class=td-heading-self-link href=#canadian-ymcas aria-label="Heading self-link"></a></h2><p>See
<a href=../canada>How to use the Canadian Colorway for Layout Builder</a>.</p><h2 id=configure-permissions>Configure Permissions<a class=td-heading-self-link href=#configure-permissions aria-label="Heading self-link"></a></h2><p>By default (as of September 2024), Layout Builder content is only editable by the Administrator user. In order for Layout Builder to be used by the Contributor or Editor Roles (or any custom roles), a number of permissions must be set. To get started, go to <strong>Admin</strong> > <strong>People</strong> > <strong>Permissions</strong> (<code>/admin/people/permissions</code>).</p><p>This list contains the relevant permissions for using Layout Builder in the YMCA Website Services distribution (out of the box). Assign permissions to roles on your site based on your individual content workflows.</p><ul><li>In this <strong>Permissions Section</strong>&mldr;<ul><li>assign these permissions.</li></ul></li><li><strong>Layout Builder</strong> - These permissions allow users to use &ldquo;layout overrides&rdquo; (aka the &ldquo;Layout tab&rdquo;), which is how pages are composed with Layout Builder.<ul><li>Either give permission for all content types:<ul><li><strong>Configure any layout</strong> - will give permission to edit layouts for ALL content types</li></ul></li><li>Or give permission to only specific content types:<ul><li><strong>Content - {Content Type}: Configure all layout overrides</strong></li></ul></li><li><strong>Create and edit content blocks</strong> is required for anyone who needs to build Layout Builder pages.</li></ul></li><li><strong>Block content</strong> - These permissions allow users to create, edit, delete, or revert specific block types.<ul><li>Either give permission for all block types:<ul><li><strong>Administer block content</strong></li></ul></li><li>Or, give permissions to only specific block types:<ul><li><strong>{Block type}: {View/Edit/Delete/Revert} content block</strong></li></ul></li></ul></li><li>Add other necessary permissions for managing content:<ul><li><strong>Entity Browser</strong><ul><li><strong>Access Media Directories: Field widget pages</strong></li><li><strong>Access Media Directories: Standalone pages</strong></li></ul></li><li><strong>Media Directories UI</strong><ul><li><strong>Access to Media Directories browser</strong></li></ul></li><li><strong>Contextual Links</strong><ul><li><strong>Use Contextual Links</strong></li></ul></li></ul></li><li><strong>Node</strong> - These permissions allow users to create, edit, delete, or revert the Layout Builder <em>content types</em>.<ul><li>Either give permission for all content types:<ul><li><strong>Administer content</strong></li></ul></li><li>Or give permission for only specific content types:<ul><li><strong>{Content Type}: {Create/Edit/Delete/Revert} {Own} content</strong></li><li>For example:<ul><li><strong>Landing Page (Layout Builder): Create new content</strong></li><li><strong>Landing Page (Layout Builder): Delete any/own content</strong></li><li><strong>Landing Page (Layout Builder): Edit any/own content</strong></li></ul></li></ul></li></ul></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-48918616b15b4f7490b9f1fb07261350>8 - How to set up a site with the Small Y template</h1><div class=lead>The Small Y template is a set of modules and themes tailored to the needs of Small YMCAs.</div><h2 id=what-is-the-small-y-template>What is the Small Y template?<a class=td-heading-self-link href=#what-is-the-small-y-template aria-label="Heading self-link"></a></h2><p>The Small Y template is a set of modules and themes tailored to the needs of Small YMCAs. It is designed to be a lightweight, easy-to-use solution for small organizations that need a simple, effective website.</p><p>A full working sandbox of the Small Y template is available at
<a href=https://small-y-stable.y.org/demo-ui-kit target=_blank>https://small-y-stable.y.org/demo-ui-kit</a>.</p><h3 id=whats-different>What&rsquo;s different?<a class=td-heading-self-link href=#whats-different aria-label="Heading self-link"></a></h3><h4 id=new-simplified-theme>New, simplified theme<a class=td-heading-self-link href=#new-simplified-theme aria-label="Heading self-link"></a></h4><p>The Small Y template includes updates to the Layout Builder design system provided by VML in collaboration with the YMCA of the USA. View a
<a href="https://www.figma.com/proto/yjxiX0VDNIeyefeDcuOWkS/YMCA_Small-Y-Template_Design-System?node-id=185-2300&amp;node-type=canvas&amp;t=ON1Hn9VBB4YT6xuQ-1&amp;scaling=min-zoom&amp;content-scaling=fixed&amp;page-id=185%3A2299" target=_blank>mockup of the new theme (Figma)</a>.</p><h4 id=only-the-most-essential-modules>Only the most essential modules<a class=td-heading-self-link href=#only-the-most-essential-modules aria-label="Heading self-link"></a></h4><p>The Small Y template is built with a small set of modules that are essential for a basic YMCA website. This makes it easier to set up and maintain, and reduces the weight of the site.</p><p>Modules and features included with the Small Y template include:</p><ul><li>Updated header and footer</li><li><a href=../../user-documentation/layout-builder>Layout Builder</a></li><li><a href=../../user-documentation/content-types/lb-article>Articles</a></li><li><a href=../../user-documentation/content-types/lb-event>Events</a></li><li><a href=../../user-documentation/content-types/branch>Branches</a></li><li><a href=../../user-documentation/content-types/camp>Camps</a></li><li><a href=../../user-documentation/text-editor>CKEditor 5 Text Editor</a></li></ul><p>Any other modules or features of the distribution can be added as needed via the Drupal admin interface.</p><h4 id=additions-to-the-main-distribution>Additions to the main distribution<a class=td-heading-self-link href=#additions-to-the-main-distribution aria-label="Heading self-link"></a></h4><p>The Small Y Template provided a number of features back to the main distribution for all YMCA Website Services users to benefit from. These include:</p><ul><li><a href=../../user-documentation/layout-builder/partners>Partners/Sponsors</a> block now allow for partners to be split into multiple tiers.</li><li><a href=../../user-documentation/layout-builder/table>Simple Text/Table</a> block now applies responsive table styles more consistently.</li><li>An additional
<a href=../../user-documentation/layout-builder/header-footer/#utility-menu>Utility Menu</a> has been added to the Header to allow content editors to add additional links in the top right of the header.</li><li><a href=../../user-documentation/layout-builder/event-views>Events Listings</a> and
<a href=../../user-documentation/layout-builder/article-views>Articles Listings</a> have been updated to include a <strong>Number of items</strong> field to limit the number of items displayed.</li><li><a href=../../user-documentation/content-types/alert>Alerts</a> have a new set of styles that follow the colorway color scheme.</li></ul><h4 id=small-y-specific-features>Small Y Specific Features<a class=td-heading-self-link href=#small-y-specific-features aria-label="Heading self-link"></a></h4><p>The Small Y template includes a few additional features that are not included in the main distribution. These are intended to simplify the setup process for small organizations and add guardrails to keep content consistent.</p><ul><li>Limits have been added to the number of items for the main menu and many components.</li><li><a href=../../user-documentation/layout-builder/breadcrumbs>Breadcrumbs</a> are now automatically added to all pages.</li><li>Additional variants have been added to the
<a href=../../user-documentation/layout-builder/banner>Banner</a> block. Each banner can be used with the colorway color or grey background.<ul><li><strong>Tall</strong> - for use as the primary hero banner on a page.</li><li><strong>Sub-page chevron</strong> - for use as a secondary banner on a page.</li><li><strong>Sub-page chevron (no media)</strong> - for use as a secondary banner on a page with no media.</li><li><strong>Sub-page frame</strong> - for use as a secondary banner on a page with dark text on a white background.</li><li><strong>Promo</strong> - for use as a smaller banner on a page with a call to action and no media.<figure class=image-caption><a href=/docs/howto/small-y/small-y--banner-variants.png title="View original image"><img alt="A screenshot of the banner variants listed above." srcset="/docs/howto/small-y/small-y--banner-variants_hu16601291894117271776.png 458w,
/docs/howto/small-y/small-y--banner-variants_hu5547779287694192787.png 726w,
/docs/howto/small-y/small-y--banner-variants_hu5300427898674974027.png 1200w" sizes=50vw src=/docs/howto/small-y/small-y--banner-variants_hu16601291894117271776.png><figcaption><i class="fa-solid fa-external-link fa-fw"></i></figcaption></a></figure></li></ul></li><li><a href=../../user-documentation/layout-builder/ping-pong>Ping-pong</a> blocks can be added in sections using the <strong>Ping-pong Section</strong> content block. This allows for alternating content blocks to be added to a page with section-level formatting, instead of block-by-block formatting.<ul><li>When adding a <strong>Ping-pong Section</strong>, you can choose from two sets of options for the blocks contained within in <strong>Styles</strong> > <strong>Y Styles</strong>.<ul><li><strong>Image Alignment</strong> - Choose whether the image starts on the left or right.</li><li><strong>Background colors</strong> - Choose between a colorway, white, or grey background for items in the section.<figure class=image-caption><a href=/docs/howto/small-y/small-y--ping-pong.png title="View original image"><img alt="The Y Style options for ping-pong blocks." srcset="/docs/howto/small-y/small-y--ping-pong_hu11812831606697773664.png 458w,
/docs/howto/small-y/small-y--ping-pong_hu5217496642985144242.png 726w,
/docs/howto/small-y/small-y--ping-pong_hu5988880886277181769.png 1200w" sizes=50vw src=/docs/howto/small-y/small-y--ping-pong_hu11812831606697773664.png><figcaption><i class="fa-solid fa-external-link fa-fw"></i></figcaption></a></figure></li></ul></li></ul></li><li><a href=../../user-documentation/layout-builder/statistics>Statistics</a> blocks have been redesigned and have the option to be displayed with a grey or colorway background.</li><li><a href=../../user-documentation/layout-builder/grid-cta>Grid CTA</a> blocks have their CTA buttons moved between the subheading and the items.
<a href=../../user-documentation/layout-builder/icon-grid>Icon Grid</a> blocks have the CTA below the items.</li></ul><h2 id=install-the-small-y-template>Install the Small Y template<a class=td-heading-self-link href=#install-the-small-y-template aria-label="Heading self-link"></a></h2><p>The Small Y template can be installed via the YMCA Website Services Installation wizard or the command line.</p><ul><li><strong>Installation Wizard</strong>: The YMCA Website Services Installation wizard is a web-based tool that guides you through the process of setting up a new YMCA website. It includes a step-by-step process for configuring the site.<ul><li>When asked to choose the Installation Type, choose &ldquo;Small Y&rdquo; and proceed with the installation steps.</li></ul></li><li><strong>Command line</strong><ul><li><code>drush -vy si openy openy_configure_profile.preset=small_y openy_theme_select.theme=openy_carnation openy_terms_of_use.agree_openy_terms=1 install_configure_form.enable_update_status_emails=NULL --account-name=admin --site-name='YMCA Website Services'</code></li></ul></li></ul><h2 id=build-your-site>Build your site<a class=td-heading-self-link href=#build-your-site aria-label="Heading self-link"></a></h2><p>Once you&rsquo;ve installed a site with the Small Y template, you can start building your site by adding content and configuring the layout. See
<a href=../set-up-lb>How to set up a Layout Builder site</a>.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-c97802e1c95965d0aa1b9003ad17ba07>9 - How to track & analyze user actions</h1><h2 id=google-analytics>Google Analytics<a class=td-heading-self-link href=#google-analytics aria-label="Heading self-link"></a></h2><p>YMCA Website Services uses the Drupal contrib
<a href=https://www.drupal.org/project/google_analytics target=_blank>Google Analytics module</a> to enable
<a href=https://marketingplatform.google.com/about/analytics/ target=_blank>Google Analytics</a> tracking on your YMCA Website Services site.</p><p>To get started, you should first create a GA property. Use the
<a href="https://support.google.com/analytics/#topic=10737980" target=_blank>Analytics Help</a> for assistance.</p><h3 id=configuration>Configuration<a class=td-heading-self-link href=#configuration aria-label="Heading self-link"></a></h3><p>Configuration is done at the standard module configuration page: <code>/admin/config/services/google-analytics</code>.</p><h3 id=google-analytics-version-compatibility>Google Analytics Version Compatibility<a class=td-heading-self-link href=#google-analytics-version-compatibility aria-label="Heading self-link"></a></h3><p>In the
<a href=https://github.com/YCloudYUSA/yusaopeny/releases/tag/9.2.11 target=_blank>9.2.11</a> release in November 2021, YMCA Website Services
<a href=https://github.com/YCloudYUSA/yusaopeny/pull/2400 target=_blank>added support for Google Analytics 4</a>. If your site has been updated to YMCA Website Services 9.2.11 or greater AND the <code>google_analytics</code> module has been updated to 4.x you should be able to use GA4. Otherwise you&rsquo;ll need to stick with GA3.</p><h2 id=search-tracking-with-google-analytics>Search Tracking with Google Analytics<a class=td-heading-self-link href=#search-tracking-with-google-analytics aria-label="Heading self-link"></a></h2><h3 id=prerequisites>Prerequisites<a class=td-heading-self-link href=#prerequisites aria-label="Heading self-link"></a></h3><ul><li>Google Analytics account to track you site should be created.</li><li>Google Analytics contrib module should be enabled and configured to use existing GA account.</li></ul><h3 id=steps>Steps<a class=td-heading-self-link href=#steps aria-label="Heading self-link"></a></h3><ol><li><p>Log in to Google Analytics account that configured to track your YMCA Website Services site.</p></li><li><p>Click Admin button in bottom right corner of main screen<figure class=image-caption><a href=/docs/howto/track-users/ga_search_1.png title="View original image"><img alt="Google Analytics Main Screen" srcset="/docs/howto/track-users/ga_search_1_hu13587481642768999311.png 458w,
/docs/howto/track-users/ga_search_1_hu15827800180000336657.png 726w,
/docs/howto/track-users/ga_search_1_hu13152475905355658800.png 1200w" sizes=50vw src=/docs/howto/track-users/ga_search_1_hu13587481642768999311.png><figcaption><i class="fa-solid fa-external-link fa-fw"></i></figcaption></a></figure></p></li><li><p>Click View Settings<figure class=image-caption><a href=/docs/howto/track-users/ga_search_2.png title="View original image"><img alt="Google Analytics View Settings" srcset="/docs/howto/track-users/ga_search_2_hu13874810860756040699.png 458w,
/docs/howto/track-users/ga_search_2_hu9357996139628362231.png 726w,
/docs/howto/track-users/ga_search_2_hu11640070353671775589.png 1200w" sizes=50vw src=/docs/howto/track-users/ga_search_2_hu13874810860756040699.png><figcaption><i class="fa-solid fa-external-link fa-fw"></i></figcaption></a></figure></p></li><li><p>Scroll to “Site Search Settings” section and enable “Site Search Tracking” switch<figure class=image-caption><a href=/docs/howto/track-users/ga_search_3.png title="View original image"><img alt="Google Analytics Site Search Settings" srcset="/docs/howto/track-users/ga_search_3_hu5729164585699567938.png 458w,
/docs/howto/track-users/ga_search_3_hu15498699403426963224.png 726w,
/docs/howto/track-users/ga_search_3_hu14091349740205351639.png 1200w" sizes=50vw src=/docs/howto/track-users/ga_search_3_hu5729164585699567938.png><figcaption><i class="fa-solid fa-external-link fa-fw"></i></figcaption></a></figure></p></li><li><p>Fill query parameter field with <code>q, query</code> values and click Save</p></li><li><p>Reports about the search tracking you can find at main screen in Behavior → Site Search Section</p></li></ol><p>Attention: Data processing latency for search tracking reports is 24-48 hours
(see
<a href="https://support.google.com/analytics/answer/1070983?hl=en#DataProcessingLatency" target=_blank>Google&rsquo;s support doc</a>).</p><h2 id=data-layer>Data Layer<a class=td-heading-self-link href=#data-layer aria-label="Heading self-link"></a></h2><p>See also the
<a href=https://git.drupalcode.org/project/datalayer/#introduction target=_blank>Data Layer module README</a>.</p><p>The Data Layers module output data on the page in a json format. By default it will output properties (langcode, vid, name, uid, created, status, roles) and related taxonomy for any node, user, or any route based entity.</p><p>A limited set of properties are available via the Data Layers configuration form at <code>/admin/config/search/datalayer</code> (langcode, vid, name, uid, created, status, roles).</p><p>Adding additional properties can be done through use of hook_datalayer_meta().</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>function</span> <span class=nf>my_module_datalayer_meta</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=k>array</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;property&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>It will be added to the page as:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;entityProperty&#34;</span><span class=p>:</span> <span class=s2>&#34;whatever the value is&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Altering which properties will be output can be done via hook_datalayer_meta_alter().</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>function</span> <span class=nf>my_module_datalayer_meta_alter</span><span class=p>(</span><span class=o>&amp;</span><span class=nv>$properties</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Override module norm in all cases.
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>unset</span><span class=p>(</span><span class=nv>$properties</span><span class=p>[</span><span class=s1>&#39;entityUid&#39;</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// Specific situation alteration...
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nv>$type</span> <span class=o>=</span> <span class=k>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=nv>$obj</span> <span class=o>=</span> <span class=nx>_datalayer_menu_get_any_object</span><span class=p>(</span><span class=nv>$type</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nv>$type</span> <span class=o>===</span> <span class=s1>&#39;node&#39;</span> <span class=o>&amp;&amp;</span> <span class=nx>in_array</span><span class=p>(</span><span class=k>array</span><span class=p>(</span><span class=s1>&#39;my_bundle&#39;</span><span class=p>,</span> <span class=s1>&#39;my_nodetype&#39;</span><span class=p>),</span> <span class=nv>$obj</span><span class=o>-&gt;</span><span class=na>type</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=c1>// Remove author names on some content type.
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=k>if</span> <span class=p>(</span><span class=nv>$key</span> <span class=o>=</span> <span class=nx>array_search</span><span class=p>(</span><span class=s1>&#39;name&#39;</span><span class=p>,</span> <span class=nv>$properties</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>unset</span><span class=p>(</span><span class=nv>$properties</span><span class=p>[</span><span class=nv>$key</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>elseif</span> <span class=p>(</span><span class=nv>$type</span> <span class=o>===</span> <span class=s1>&#39;my_entity_type&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=c1>// Remove some property on some entity type.
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=k>if</span> <span class=p>(</span><span class=nv>$key</span> <span class=o>=</span> <span class=nx>array_search</span><span class=p>(</span><span class=s1>&#39;my_property&#39;</span><span class=p>,</span> <span class=nv>$properties</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>unset</span><span class=p>(</span><span class=nv>$properties</span><span class=p>[</span><span class=nv>$key</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Adding additional data can be done using datalayer_add().</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>function</span> <span class=nf>_my_module_myevent_func</span><span class=p>(</span><span class=nv>$argument</span> <span class=o>=</span> <span class=k>FALSE</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=nv>$argument</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>datalayer_add</span><span class=p>(</span><span class=k>array</span><span class=p>(</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;drupalMyProperty&#39;</span> <span class=o>=&gt;</span> <span class=nv>$argument</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;userAnotherProperty&#39;</span> <span class=o>=&gt;</span> <span class=nx>_my_module_other_funct</span><span class=p>(</span><span class=nv>$argument</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>To alter the data to be output use hook_datalayer_alter().</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>function</span> <span class=nf>my_module_datalayer_alter</span><span class=p>(</span><span class=o>&amp;</span><span class=nv>$data_layer</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Make the title lowercase on some node type.
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>if</span> <span class=p>(</span><span class=nx>isset</span><span class=p>(</span><span class=nv>$data_layer</span><span class=p>[</span><span class=s1>&#39;entityBundle&#39;</span><span class=p>])</span> <span class=o>&amp;&amp;</span> <span class=nv>$data_layer</span><span class=p>[</span><span class=s1>&#39;entityBundle&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=s1>&#39;mytype&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nv>$data_layer</span><span class=p>[</span><span class=s1>&#39;entityLabel&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=nx>strtolower</span><span class=p>(</span><span class=nv>$data_layer</span><span class=p>[</span><span class=s1>&#39;entityLabel&#39;</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=cross-domain-tracking>Cross-domain Tracking<a class=td-heading-self-link href=#cross-domain-tracking aria-label="Heading self-link"></a></h2><p>This configuration enables cross-domain tracking (also known as &ldquo;cross-domain measurement&rdquo;) to work through internal redirects like those in
<a href=../../user-documentation/membership/calculator>Membership Calculator</a> (that use <code>TrustedRedirectResponse</code>).</p><p>When enabled, cookies matching any configured tag will be added to any redirect destination matching a configured domain. For example, a redirect to <code>https://example.com</code> will be transformed to <code>https://example.com/?_gl=....</code>.</p><p>This process is illustrated well by
<a href=https://web.archive.org/web/20231204093006/https://www.analyticsmania.com/post/cross-domain-tracking-in-google-analytics-4/#how-does-it-work target=_blank>Analytics Mania</a>:</p><p><img src=https://web.archive.org/web/20231204093006im_/https://www.analyticsmania.com/wp-content/uploads/2021/03/cross-domain-ga4-2.jpg alt="A diagram illustrating the successful user flow of a cookie from one domain to another, via analyticsmania.com"></p><p>Analytics provides code that does this automatically with standard <code>&lt;a></code> links, but this module is required to enable similar functionality with &ldquo;server-side&rdquo; links/redirects.</p><blockquote><p>NOTE: Configuration and testing of analytics is required outside the scope of this module, refer to
<a href="https://support.google.com/analytics/answer/10071811?hl=en" target=_blank>[GA4] Set up cross-domain measurement</a> for more information.</p><p>Successful cross-domain tracking also requires the destination application to retain the passed query strings and load them into the corresponding tracking property.</p></blockquote><h3 id=requesting-cross-domain-tracking-support>Requesting cross-domain tracking support<a class=td-heading-self-link href=#requesting-cross-domain-tracking-support aria-label="Heading self-link"></a></h3><p>Many Customer Relation Management (CRM) systems and Member Management Systems integrate with YMCA websites. Those systems often need guidance on hwo to maintain cross-domain tracking support.</p><p>Entrance to the CRM/MMS often involves multiple redirects which may drop the required query strings.</p><p>When discussing cross-domain support with your vendor, we recommend requesting:</p><blockquote><p>Please support passing query strings/parameters through redirects, specifically maintaining the <code>_gl</code> parameter.</p></blockquote><p>You may also need to request that your GTM/GA code be added to the CRM/MMS to report back these parameters.</p><h3 id=configuration-1>Configuration<a class=td-heading-self-link href=#configuration-1 aria-label="Heading self-link"></a></h3><ol><li>Enable the &ldquo;YMCA Website Services Cross-domain Tracking (XDT)&rdquo; module at <strong>Administration</strong> > <strong>Extend</strong>, or via drush:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>drush en openy_xdt
</span></span></code></pre></div></li><li>Configure the module at <strong>Administration</strong> > <strong>YMCA Website Services</strong> > <strong>Settings</strong> > <strong>Cross-domain Tracking Settings</strong> (<code>/admin/openy/settings/xdt</code>)<ul><li>The cookie defaults to the standard for GA4, but can be modified for use with different systems.</li><li>The module will not have any effect until a domain is configured. Add the domains of any external sites where you would like to enable tracking.</li></ul></li></ol></div><div class=td-content style=page-break-before:always><h1 id=pg-00eda265918353254bbc8ae2260bcc5a>10 - How to leverage structured data</h1><div class=lead>Structured data helps the machines reading your site - search engines, AI models, and more - understand your content.</div><blockquote><p>Adding structured data can enable search results that are more engaging to users and might encourage them to interact more with your website</p><p>&ndash;
<a href=https://developers.google.com/search/docs/appearance/structured-data/intro-structured-data#why target=_blank>Why add structured data to a page (Google)</a></p></blockquote><p>The distribution (as of
<a href=/blog/2023/09/12/digital-services-release-10.3.0/>version 10.3.0</a>) leverages the community contributed
<a href=https://www.drupal.org/project/schema_metatag target=_blank>Schema.org metatag module</a> and custom code to integrate structured data into many content types. You can test if your page is outputting structured data by using the
<a href=https://validator.schema.org/ target=_blank>Schema.org Validator</a> or
<a href=https://search.google.com/test/rich-results target=_blank>Google&rsquo;s Rich Results Test</a></p><p>Once your site is updated, structured data will be <em>automatically generated</em> 🎉 with no additional work from content editors.</p><h2 id=articles>Articles<a class=td-heading-self-link href=#articles aria-label="Heading self-link"></a></h2><p>The
<a href=../../user-documentation/content-types/lb-article>Article (Layout Builder)</a> content type implements the
<a href=https://schema.org/Article target=_blank>Article Schema</a> as per
<a href=https://developers.google.com/search/docs/appearance/structured-data/article target=_blank>Google&rsquo;s Article structured data docs</a>.</p><p>Articles have three options for the <strong>Type</strong>, which map to their appropriate Schema:</p><ul><li>Blog →
<a href=https://schema.org/BlogPosting target=_blank>BlogPosting</a></li><li>News →
<a href=https://schema.org/NewsArticle target=_blank>NewsArticle</a></li><li>Press Release →
<a href=https://schema.org/Article target=_blank>Article</a> (there is currently no other appropriate Schema)</li></ul><h3 id=customizing-articles>Customizing Articles<a class=td-heading-self-link href=#customizing-articles aria-label="Heading self-link"></a></h3><p>This mapping is set in code (<code>y_lb_article_metatags_alter</code> in
<a href=https://git.drupalcode.org/project/y_lb_article/-/blob/1.1.x/y_lb_article.module target=_blank>y_lb_article.module</a>), but all other settings are configurable via the Metatag configuration (<code>/admin/config/search/metatag/node__article_lb</code>).</p><h2 id=branches>Branches<a class=td-heading-self-link href=#branches aria-label="Heading self-link"></a></h2><p>The
<a href=../../user-documentation/content-types/branch>Branch</a> content type implements the
<a href=https://schema.org/LocalBusiness target=_blank>LocalBusiness Schema</a> as per
<a href=https://developers.google.com/search/docs/appearance/structured-data/local-business target=_blank>Google&rsquo;s Local business structured data docs</a>.</p><p>Any time the Branch Hours are updated, that content will also be reflected in the Structured Data that&rsquo;s read by search engines.</p><h3 id=customizing-branches>Customizing Branches<a class=td-heading-self-link href=#customizing-branches aria-label="Heading self-link"></a></h3><p>The mapping is configurable in the Metatag configuration (<code>/admin/config/search/metatag/node__branch</code>). Hours configuration uses the
<a href=https://github.com/open-y-subprojects/openy_hours_formatter#open-y-hours-metatag-tokens target=_blank>Open Y Hours_metatag tokens</a>.</p><h2 id=faqs>FAQs<a class=td-heading-self-link href=#faqs aria-label="Heading self-link"></a></h2><p>The
<a href=../../user-documentation/layout-builder/accordion>Accordion Layout Builder Block</a> has an option to implement the
<a href=https://schema.org/FAQPage target=_blank>FAQPage Schema</a> as per
<a href=https://developers.google.com/search/docs/appearance/structured-data/faqpage target=_blank>Google&rsquo;s FAQ structured data docs</a>.</p><p>If an Accordion section contains Frequently Asked Questions, check the <strong>FAQ?</strong> checkbox to output them as structured data.</p><p>Tips for writing good FAQ content:</p><ul><li>Ensure the content contains individual sets of questions (&ldquo;How old does my child need to be to swim at the YMCA?&rdquo;) and answers (&ldquo;The YMCA offers swim classes starting at age 3 and the pool is open to children of all ages with parental supervision&rdquo;).</li><li>Only one FAQ should be added to a page. If more than one is added, only the first will be output to the structured data.</li></ul><h3 id=customizing-faqs>Customizing FAQs<a class=td-heading-self-link href=#customizing-faqs aria-label="Heading self-link"></a></h3><p>Due to the complexity of the FAQ data, the structured data is
<a href="https://git.drupalcode.org/project/lb_accordion/-/blob/1.0.x/lb_accordion.module?ref_type=heads#L40" target=_blank>managed entirely in code</a> and is not customizable via the Drupal admin. If you need specific customizations, please post your ideas in Slack or suggest them on
<a href=/roadmap>the Roadmap</a> for the core team to discuss and implement.</p><h2 id=other-metatags>Other Metatags<a class=td-heading-self-link href=#other-metatags aria-label="Heading self-link"></a></h2><p>The distribution also includes metadata configuration for each content type, which can be found in the Metatag configuration (<code>/admin/config/search/metatag</code>).</p><h3 id=homepage-metatag-overrides>Homepage Metatag Overrides<a class=td-heading-self-link href=#homepage-metatag-overrides aria-label="Heading self-link"></a></h3><p>On some sites, the homepage may have unique metadata requirements. The homepage metatags can be overridden in the &ldquo;Front page&rdquo; metatag configuration.</p><p>For sites that use Layout Builder, it may be necessary to disable the <strong>Front Page</strong> metatag settings so that the <strong>Landing Page (Layout Builder)</strong> tags can be used instead.</p><ol><li>Go to <code>/admin/config/search/metatag/front</code></li><li>Scroll to the bottom of the form.</li><li>Uncheck <strong>Active</strong> and Save the settings.</li></ol><p>Once you have changed the settings, check the metadata of the homepage with a tool like
<a href=https://socialsharepreview.com/ target=_blank>Social Share Preview</a> to ensure the correct data is being output.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-db0b5e2da5e4fdb217540279416c4df3>11 - How to use the Canadian Colourway for Layout Builder</h1><div class=lead>With a few clicks, Canadian YMCAs can use their own set of brand-compliant, accessible styles.</div><p>YMCA of the USA has partnered with
<a href=https://www.ymca.ca/ target=_blank>YMCA Canada</a> to create a brand-compliant and accessible colourway for use by Canadian YMCAs.</p><p><figure class=image-caption><a href=/docs/howto/canada/canada--example.png title="View original image"><img alt="The logo and header from an example Canadian YMCA page" srcset="/docs/howto/canada/canada--example_hu12725187404726923188.png 458w,
/docs/howto/canada/canada--example_hu5337312782705056814.png 726w,
/docs/howto/canada/canada--example_hu384186128188419526.png 1200w" sizes=50vw src=/docs/howto/canada/canada--example_hu12725187404726923188.png><figcaption><i class="fa-solid fa-external-link fa-fw"></i></figcaption></a></figure></p><h2 id=designs>Designs<a class=td-heading-self-link href=#designs aria-label="Heading self-link"></a></h2><p>The colourway is packaged as the
<a href=https://www.drupal.org/project/ws_colorway_canada target=_blank>Canada Layout Builder Colorway</a> on Drupal.org and is included with the full
<a href=https://github.com/YCloudYUSA/y_lb target=_blank>YMCA Layout Builder</a> package.</p><ul><li><a href="https://www.figma.com/proto/nQ8GfYR5CXkkaOxYAlITeC/YMCA-Canada-Design-System?type=design&amp;node-id=614-11498&amp;t=aGKtr2E2dDMfsYsF-1&amp;scaling=min-zoom&amp;page-id=614%3A11497&amp;mode=design" target=_blank>YMCA Canada UI Kit</a></li><li><a href="https://www.figma.com/proto/nQ8GfYR5CXkkaOxYAlITeC/YMCA-Canada-Design-System?type=design&amp;node-id=1640-14094&amp;t=H3ljPnNvxOWrGqhd-0&amp;scaling=scale-down&amp;page-id=1640%3A10978&amp;starting-point-node-id=1640%3A14094" target=_blank>YMCA Canada Components</a></li><li><a href="https://www.figma.com/proto/nQ8GfYR5CXkkaOxYAlITeC/YMCA-Canada-Design-System?type=design&amp;node-id=2201-21973&amp;t=feeJM61aY5EhpgKl-1&amp;scaling=min-zoom&amp;page-id=2201%3A20920&amp;mode=design" target=_blank>YMCA Canada Demo Pages</a></li></ul><h3 id=colourways>Colourways<a class=td-heading-self-link href=#colourways aria-label="Heading self-link"></a></h3><p><figure class=image-caption><a href=/docs/howto/canada/canada--color-schemes.png title="View original image"><img alt="Four buttons with the four Y Canada color options" srcset="/docs/howto/canada/canada--color-schemes_hu5370899596129836306.png 458w,
/docs/howto/canada/canada--color-schemes_hu14969974631334864075.png 726w,
/docs/howto/canada/canada--color-schemes_hu9389079413565842940.png 1200w" sizes=50vw src=/docs/howto/canada/canada--color-schemes_hu5370899596129836306.png><figcaption><i class="fa-solid fa-external-link fa-fw"></i></figcaption></a></figure><figure class=image-caption><a href=/docs/howto/canada/canada--colors.png title="View original image"><img alt="Canadian Color schemes" srcset="/docs/howto/canada/canada--colors_hu10719936373814677635.png 458w,
/docs/howto/canada/canada--colors_hu1061262734321099421.png 726w,
/docs/howto/canada/canada--colors_hu17487800631808948553.png 1200w" sizes=50vw src=/docs/howto/canada/canada--colors_hu10719936373814677635.png><figcaption><i class="fa-solid fa-external-link fa-fw"></i></figcaption></a></figure></p><p>The Canadian Colorway package includes four options for content type or page-level colorways. Each colourway uses the same three primary colors - dark red, lighter red, and grey, along with a highlight color of blue, purple, green, or black.</p><h3 id=banners>Banners<a class=td-heading-self-link href=#banners aria-label="Heading self-link"></a></h3><p><figure class=image-caption><a href=/docs/howto/canada/canada--banners-desktop.png title="View original image"><img alt="Examples of the 4 Canadian banner variations" srcset="/docs/howto/canada/canada--banners-desktop_hu6250781123168251374.png 458w,
/docs/howto/canada/canada--banners-desktop_hu12173853233353529257.png 726w,
/docs/howto/canada/canada--banners-desktop_hu3256575349834446118.png 1200w" sizes=50vw src=/docs/howto/canada/canada--banners-desktop_hu6250781123168251374.png><figcaption><i class="fa-solid fa-external-link fa-fw"></i></figcaption></a></figure></p><p>The Canadian Colorway for Banners package contains 4 banner variations that utilize the unique Y Canada chevron:</p><ul><li>Black</li><li>Red</li><li>White</li><li>Short (no image, title and subtitle only)</li></ul><p><figure class=image-caption><a href=/docs/howto/canada/canada--banners.png title="View original image"><img alt="Canadian banner variations in the Layout Builder style picker" srcset="/docs/howto/canada/canada--banners_hu2552520076143443373.png 458w,
/docs/howto/canada/canada--banners_hu1500825249600110601.png 726w,
/docs/howto/canada/canada--banners_hu1339648090181474162.png 1200w" sizes=50vw src=/docs/howto/canada/canada--banners_hu2552520076143443373.png><figcaption><i class="fa-solid fa-external-link fa-fw"></i></figcaption></a></figure></p><p>These can be selected in the
<a href=../../user-documentation/layout-builder/advanced-options/#y-block-styles>Y Styles</a> selector for each banner on your site.</p><p>Y Canada sites can also use the existing &ldquo;Overlay&rdquo; Banner style as it does not utilize any YUSA-specific styling.</p><h2 id=setup>Setup<a class=td-heading-self-link href=#setup aria-label="Heading self-link"></a></h2><h3 id=enable-the-required-modules>Enable the required modules<a class=td-heading-self-link href=#enable-the-required-modules aria-label="Heading self-link"></a></h3><div class="alert alert-primary" role=alert><h4 class=alert-heading>Warning</h4>Enabling <code>ws_colorway_canada</code> will immediately changes the site logo from the Y-USA logo to the Y Canada logo, so this should be done on a development environment first.</div><p>The
<a href=https://www.drupal.org/project/ws_colorway_canada target=_blank><code>ws_colorway_canada</code></a> module and its submodule <code>lb_hero_canada</code> contain
<a href=#designs>colorways, logos, and banner styles</a> approved by Canadian Y authorities.</p><ul><li>Visit <strong>Admin</strong> > <strong>Extend</strong> (<code>admin/modules</code>) and enable these two modules (search for <code>Canad</code>):<ul><li>Layout Builder - Canadian Colorway (<code>ws_colorway_canada</code>)</li><li>Y Layout Builder - Canada Colorway for Banner (<code>lb_hero_canada</code>)</li></ul></li><li>Alternatively, enable the modules via <code>drush</code>:<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>drush en ws_colorway_canada lb_hero_canada -y
</span></span></code></pre></div></li></ul><h3 id=configure-site-defaults>Configure site defaults<a class=td-heading-self-link href=#configure-site-defaults aria-label="Heading self-link"></a></h3><p>After enabling the new colorway, there are a few more steps to ensure the new colorways are used across your site:</p><ol><li>Set the
<a href=../set-up-lb#configure-layouts--listings>default layout styles</a> to use the Canadian colorway of your choice.</li><li>For any existing demo content and pages:<ul><li>Set the page colorway to one of the new &ldquo;Y Canada&rdquo; options.</li><li>Change the banner style to one of the new
<a href=../../user-documentation/layout-builder/advanced-options/#y-block-styles>Y Canada Styles</a>.</li></ul></li></ol><h3 id=hide-yusa-styles>Hide YUSA Styles<a class=td-heading-self-link href=#hide-yusa-styles aria-label="Heading self-link"></a></h3><p>Y Canada site developers may want to hide the existing YUSA styles in order to prevent unintentional usage. This is not possible through configuration at the moment, but some custom css can do the trick:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=p>#</span><span class=nn>edit-ws-design-settings-colorway</span> <span class=p>.</span><span class=nc>form-item-ws-design-settings-colorway</span><span class=p>:</span><span class=nd>has</span><span class=o>(</span><span class=nt>div</span><span class=o>[</span><span class=nt>class</span><span class=o>*=</span><span class=s2>&#34;colorway-ws&#34;</span><span class=o>]),</span>
</span></span><span class=line><span class=cl><span class=p>#</span><span class=nn>drupal-off-canvas</span> <span class=p>.</span><span class=nc>form-item-appearance-ws-style-ws-style-option-hero-banner</span><span class=p>:</span><span class=nd>not</span><span class=o>(</span><span class=p>:</span><span class=nd>has</span><span class=o>(</span><span class=nt>input</span><span class=o>[</span><span class=nt>value</span><span class=o>*=</span><span class=s2>&#34;canada&#34;</span><span class=o>]))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>display</span><span class=p>:</span> <span class=kc>none</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-f9886c37aceba8f168a4c1205aef8e53>12 - How to use two-factor authentication</h1><div class=lead>Enabling multiple levels of identity verification can protect your site from malicious users.</div><p>Enabling two-factor authentication (2FA or TFA) adds a layer of security to selected roles like admin while allowing other users to log in to the site only with basic authentication with a Drupal username and password.</p><p>The community-contributed
<a href=https://www.drupal.org/project/tfa target=_blank>TFA module</a> is the recommended path to requiring 2FA for users.</p><h2 id=requirements>Requirements<a class=td-heading-self-link href=#requirements aria-label="Heading self-link"></a></h2><p>The TFA module requires the PHP OpenSSL extension. This is installed with most modern stacks, but you can check to see if it is running with: <code>php -i | grep openssl</code>.</p><p>Add the TFA module and its soft dependency:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>composer require drupal/tfa drupal/real_aes
</span></span></code></pre></div><h2 id=installing>Installing<a class=td-heading-self-link href=#installing aria-label="Heading self-link"></a></h2><p>We recommend you follow the full installation instructions
<a href=https://git.drupalcode.org/project/tfa/-/blob/8.x-1.x/README.md target=_blank>for the 8.x branch</a> or
<a href=https://project.pages.drupalcode.org/tfa/ target=_blank>the 2.x branch</a>.</p><p>Once you configure an encryption key and an encryption profile, you will then be able to enable TFA at <strong>Admin</strong> > <strong>Configuration</strong> > <strong>People</strong> > <strong>TFA</strong> (<code>/admin/config/people/tfa</code>).</p><p>Once you enable TFA, you will have the option to require it for specific roles.</p><p><figure class=image-caption><a href=/docs/howto/use-2fa/2fa-roles.png title="View original image"><img alt="A screenshot showing &ldquo;Roles required to set up TFA&rdquo; with checkboxes for each role on the site." srcset="/docs/howto/use-2fa/2fa-roles_hu9949792457507991050.png 458w,
/docs/howto/use-2fa/2fa-roles_hu4288224462217867417.png 726w,
/docs/howto/use-2fa/2fa-roles_hu3623622630034942843.png 1200w" sizes=50vw src=/docs/howto/use-2fa/2fa-roles_hu9949792457507991050.png><figcaption><i class="fa-solid fa-external-link fa-fw"></i></figcaption></a></figure></p></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title="YMCA Website Services" aria-label="YMCA Website Services"><a target=_blank rel=noopener href=https://ds.ymca.org/ aria-label="YMCA Website Services"><i class="fa fa-globe"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=LinkedIn aria-label=LinkedIn><a target=_blank rel=noopener href=https://www.linkedin.com/company/ymcausa/ aria-label=LinkedIn><i class="fab fa-linkedin"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=YouTube aria-label=YouTube><a target=_blank rel=noopener href=https://www.youtube.com/@ymcasdigitalservices aria-label=YouTube><i class="fab fa-youtube"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="YouTube (Archive)" aria-label="YouTube (Archive)"><a target=_blank rel=noopener href=https://www.youtube.com/channel/UC4hp3K9JFptqPZyNjJLvkJg aria-label="YouTube (Archive)"><i class="fab fa-youtube"></i></a></li></ul></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/YCloudYUSA/yusaopeny aria-label=GitHub><i class="fab fa-github"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Slack aria-label=Slack><a target=_blank rel=noopener href="mailto:ycloud@ymca.net?subject=Slack%20Access%20Request" aria-label=Slack><i class="fab fa-slack"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="Message Board" aria-label="Message Board"><a target=_blank rel=noopener href=https://community.ycloud.y.org aria-label="Message Board"><i class="fa fa-user-friends"></i></a></li></ul></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2025
<span class=td-footer__authors>YMCA Website Services</span></span><span class=td-footer__all_rights_reserved>All Rights Reserved</span><span class=ms-2><a href=https://ds.ymca.org/ target=_blank rel=noopener>https://ds.ymca.org/</a></span></div></div></div></footer></div><script src=/js/main.min.fd96d5f2e6c43bcf373f2ce509c626f962ebc9437b894f0cd006baa4a70248e3.js integrity="sha256-/ZbV8ubEO883PyzlCcYm+WLryUN7iU8M0Aa6pKcCSOM=" crossorigin=anonymous></script><script defer src=/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3.6.0 integrity="sha512-FtDaTWf3IS29TLuYzTPlytjGqcXkwrzG9ivq7xXElnOZeiYTbcIy/hwXAgrrRNnI0+PfN+WFz4/+4phhJmuS8Q==" crossorigin=anonymous></script><script type=text/javascript>const containers=["#docsearch-0","#docsearch-1"];for(let e of containers)docsearch({container:e,appId:"IKYHW432S0",apiKey:"daf6dd319fdc9982386b73a0d53d9f89",indexName:"ds-y"})</script><script src=/js/tabpane-persist.js></script></body></html>